<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - ResumeDoctor AI</title>
    <link rel="stylesheet" href="static/css/us10_styles.css?v=1.1">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header Navigation -->
    <header class="dashboard-header">
        <a href="/" class="nav-brand" onclick="handleBrandClick(event)">
            <div class="logo-dot"></div>
            <span class="brand-text">ResumeDoctor AI</span>
        </a>
        
        <nav class="dashboard-nav">
            <a href="us10_dashboard.html" class="nav-item active">Dashboard</a>
            <a href="us10_scan_history.html" class="nav-item">Scan History</a>
            <a href="us10_account.html" class="nav-item">Account</a>
            <span class="user-greeting">Hi, there!</span>
            <button class="logout-btn" onclick="handleLogout()" title="Logout">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M17 7L15.59 8.41L18.17 11H8V13H18.17L15.59 15.59L17 17L22 12L17 7Z" fill="currentColor"/>
                    <path d="M19 19H5V5H19V3H5C3.89 3 3 3.89 3 5V19C3 20.1 3.89 21 5 21H19C20.1 21 21 20.1 21 19V17H19V19Z" fill="currentColor"/>
                </svg>
            </button>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="dashboard-content">
        <div class="container">
            <!-- Welcome Banner -->
            <section class="welcome-banner">
                <div class="welcome-content">
                    <h1 class="welcome-title">Welcome, Sarah</h1>
                    <p class="welcome-subtitle">You have 3 new job matches today</p>
                </div>
                <button class="new-resume-btn">New Resume</button>
            </section>

            <!-- Recent Scan History -->
            <section class="recent-scan-history">
                <div class="section-header-with-link">
                    <h2 class="section-title">Recent Scan History</h2>
                    <a href="us10_scan_history.html" class="view-all-link">View All ‚Üí</a>
                </div>
                
                <div class="scan-card">
                    <div class="scan-header">
                        <div class="document-icon">üìÑ</div>
                        <h3 class="file-name">Md_Moin_Ashrai_2_1 docx</h3>
                    </div>
                    
                    <div class="scan-meta">
                        <p class="job-description">Job Description from Dashboard at 1 Unknown Company</p>
                        <p class="scan-date">2016 21 2 297:R6 pm</p>
                    </div>
                    
                    <div class="score-summary">
                        <div class="match-percentage">28.48 %</div>
                        <div class="keyword-count">9.55 keywords</div>
                    </div>
                    
                    <div class="keyword-breakdown">
                        <div class="keyword-item">
                            <div class="keyword-percentage">10.34 %</div>
                            <div class="keyword-label">Tustrared</div>
                        </div>
                        <div class="keyword-item">
                            <div class="keyword-percentage">100 %</div>
                            <div class="keyword-label">Exhilones</div>
                        </div>
                        <div class="keyword-item">
                            <div class="keyword-percentage">4.35 %</div>
                            <div class="keyword-label">Office</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Resume & Job Matching Platform Section -->
            <section class="resume-matching-section">
                <div class="section-header">
                    <h2 class="section-title">Resume & Job Matching Platform</h2>
                    <button class="sample-scan-btn" onclick="viewSampleScan()">View a Sample Scan</button>
                </div>

                <div class="new-scan-container">
                    <h3 class="scan-title">New scan</h3>

                    <div class="scan-grid">
                        <!-- Resume Section -->
                        <div class="resume-section">
                            <div class="section-header">
                                <h4 class="section-title">Resume</h4>
                                <button class="saved-resumes-btn" onclick="showSavedResumes()">
                                    <span class="star-icon">‚≠ê</span>
                                    Saved Resumes
                                </button>
                            </div>

                            <div class="input-area">
                                <textarea
                                    class="resume-textarea"
                                    placeholder="Paste resume text..."
                                    rows="8"
                                    id="resume-text"
                                ></textarea>

                                <div class="upload-section">
                                    <div class="upload-area" id="upload-area" onclick="triggerFileUpload()" ondrop="handleDrop(event)" ondragover="handleDragOver(event)">
                                        <div class="upload-content" id="upload-content">
                                            <div class="upload-icon">üìÅ</div>
                                            <div class="upload-text">Drag & Drop or Upload</div>
                                        </div>
                                        <div class="uploaded-file-display" id="uploaded-file-display" style="display: none;">
                                            <div class="file-icon">üìÑ</div>
                                            <div class="file-name-center" id="uploaded-file-name-center"></div>
                                            <div class="upload-status-center">‚úÖ Uploaded Successfully</div>
                                            <button class="change-file-btn" onclick="triggerFileUpload()">Change File</button>
                                        </div>
                                        <input type="file" id="resume-file" accept=".pdf,.doc,.docx" style="display: none;" onchange="handleFileSelect(event)">
                                    </div>

                                    <div id="uploaded-resume" class="uploaded-file" style="display: none;">
                                        <div class="file-info">
                                            <span class="file-name" id="uploaded-file-name"></span>
                                            <span class="upload-status">uploaded</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Job Description Section -->
                        <div class="job-section">
                            <div class="section-header">
                                <h4 class="section-title">Job Description</h4>
                                <button class="select-saved-btn" onclick="showSavedJobDescriptions()">
                                    <span class="star-icon">‚≠ê</span>
                                    Saved Jobs
                                </button>
                            </div>

                            <div class="job-input-container">
                                <!-- Left side: Text input -->
                                <div class="job-text-area">
                                    <textarea
                                        class="job-textarea"
                                        placeholder="Copy and paste job description here or drag & drop a file"
                                        rows="15"
                                        id="job-description"
                                        oninput="handleJobDescriptionInput()"
                                    ></textarea>
                                </div>

                                <!-- Right side: Drag & Drop area -->
                                <div class="job-upload-area"
                                     id="job-upload-area"
                                     ondrop="handleJobFileDrop(event)"
                                     ondragover="handleJobDragOver(event)"
                                     ondragleave="handleJobDragLeave(event)"
                                     onclick="triggerJobFileUpload()">
                                    <div class="job-upload-content" id="job-upload-content">
                                        <div class="upload-icon">üìÑ</div>
                                        <div class="upload-text">Drag & Drop Job Description</div>
                                        <div class="upload-subtext">PDF, DOCX, TXT files</div>
                                        <button class="browse-btn">Browse Files</button>
                                    </div>
                                    <div class="job-file-display" id="job-file-display" style="display: none;">
                                        <div class="file-icon">üìÑ</div>
                                        <div class="file-name" id="job-file-name"></div>
                                        <div class="upload-status">‚úÖ File Loaded</div>
                                        <button class="change-file-btn" onclick="triggerJobFileUpload()">Change File</button>
                                    </div>
                                    <input type="file" id="job-file-input" accept=".pdf,.doc,.docx,.txt" style="display: none;" onchange="handleJobFileSelect(event)">
                                </div>
                            </div>

                            <!-- Job Description Status -->
                            <div class="job-status" id="job-status" style="display: none;">
                                <div class="status-info">
                                    <span class="status-text" id="job-status-text">Job description ready</span>
                                    <span class="word-count" id="job-word-count">0 words</span>
                                </div>
                                <button class="save-job-btn" id="save-job-btn" onclick="saveJobDescription()">Save Job Description</button>
                            </div>
                        </div>
                    </div>

                    <!-- Scan Controls -->
                    <div class="scan-controls">
                        <div class="scan-info">
                            <span class="available-scans">Available scans: <span id="scan-count">5</span></span>
                            <button class="upgrade-btn" onclick="showUpgradeModal()">Upgrade</button>
                            <button class="power-edit-btn" onclick="togglePowerEdit()">
                                <span class="power-icon">‚ö°</span>
                                Power Edit
                            </button>
                            <button class="scan-btn" onclick="performScan()">Scan</button>
                        </div>
                    </div>
                </div>

            </section>

            <!-- Pro Plans Section -->
            <section class="pro-plans-section" id="pro-plans-section" style="display: none;">
                <div class="section-header">
                    <h2 class="section-title">Upgrade to Pro</h2>
                    <p class="section-description">Unlock unlimited scans and advanced AI features</p>
                </div>

                <div class="pricing-grid">
                    <div class="pricing-card">
                        <div class="plan-header">
                            <h3>Free</h3>
                            <div class="plan-price">
                                <span class="price">$0</span>
                                <span class="period">Forever</span>
                            </div>
                        </div>
                        <ul class="plan-features">
                            <li>5 resume scans per month</li>
                            <li>Basic ATS compatibility check</li>
                            <li>1 resume template</li>
                            <li>Basic keyword suggestions</li>
                        </ul>
                        <button class="btn btn-outline btn-full" disabled>Current Plan</button>
                    </div>
                    <div class="pricing-card featured">
                        <div class="plan-badge">Most Popular</div>
                        <div class="plan-header">
                            <h3>Pro</h3>
                            <div class="plan-price">
                                <span class="price">$29</span>
                                <span class="period">per month</span>
                            </div>
                        </div>
                        <ul class="plan-features">
                            <li>Unlimited resume scans</li>
                            <li>Advanced AI optimization</li>
                            <li>50+ premium templates</li>
                            <li>Cover letter optimization</li>
                            <li>LinkedIn profile optimization</li>
                            <li>Job tracking dashboard</li>
                        </ul>
                        <button class="btn btn-primary btn-full" onclick="upgradeToPro()">Start Pro Trial</button>
                    </div>
                    <div class="pricing-card">
                        <div class="plan-header">
                            <h3>Enterprise</h3>
                            <div class="plan-price">
                                <span class="price">$99</span>
                                <span class="period">per month</span>
                            </div>
                        </div>
                        <ul class="plan-features">
                            <li>Everything in Pro</li>
                            <li>Team management</li>
                            <li>Priority support</li>
                            <li>Custom integrations</li>
                            <li>Advanced analytics</li>
                        </ul>
                        <button class="btn btn-outline btn-full" onclick="contactSales()">Contact Sales</button>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <div class="brand-icon">ü§ñ</div>
                    <span class="brand-text">ResumeDoctor AI</span>
                    <p>The most advanced AI-powered resume optimization platform. Get 3x more interviews with intelligent ATS optimization.</p>
                </div>
                <div class="footer-links">
                    <div class="link-group">
                        <h4>Product</h4>
                        <a href="#" class="footer-link">Resume Scanner</a>
                        <a href="#" class="footer-link">Resume Builder</a>
                        <a href="#" class="footer-link">Cover Letters</a>
                        <a href="#" class="footer-link">LinkedIn Optimizer</a>
                        <a href="#" class="footer-link">Job Tracker</a>
                    </div>
                    <div class="link-group">
                        <h4>Support</h4>
                        <a href="#" class="footer-link">Help Center</a>
                        <a href="#" class="footer-link">Contact Us</a>
                        <a href="#" class="footer-link">Privacy Policy</a>
                        <a href="#" class="footer-link">Terms of Service</a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 ResumeDoctor AI. All rights reserved.</p>
                <p>Trusted by 50,000+ job seekers</p>
            </div>
        </div>
    </footer>

    <script src="static/js/config.js?v=1.1"></script>
    <script src="static/js/us10_dashboard.js?v=1.1"></script>
    <script>
        function handleBrandClick(event) {
            // For logged-in users, show a confirmation before leaving dashboard
            const confirmed = confirm('Are you sure you want to go to the landing page? You will need to log in again to access your dashboard.');
            if (!confirmed) {
                event.preventDefault();
            }
        }
    </script>
</body>
</html>